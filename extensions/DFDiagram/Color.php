<?php

// Standard DF colors
$DFCOLORS = array(
	'0:0' => '#000000',
	'0:1' => '#505050',
	'1:0' => '#000080',
	'1:1' => '#0000ff',
	'2:0' => '#008000',
	'2:1' => '#00ff00',
	'3:0' => '#008080',
	'3:1' => '#00ffff',
	'4:0' => '#800000',
	'4:1' => '#ff0000',
	'5:0' => '#800080',
	'5:1' => '#ff00ff',
	'6:0' => '#808000',
	'6:1' => '#ffff00',
	'7:0' => '#c0c0c0',
	'7:1' => '#ffffff',
	'amber' => 'rgb(255,191,0)',
	'amethyst' => 'rgb(153,102,204)',
	'aqua' => 'rgb(0,255,255)',
	'aquamarine' => 'rgb(127,255,212)',
	'ash-gray' => 'rgb(178,190,181)',
	'auburn' => 'rgb(111,53,26)',
	'azure' => 'rgb(0,127,255)',
	'beige' => 'rgb(245,245,220)',
	'black' => 'rgb(0,0,0)',
	'blue' => 'rgb(0,0,255)',
	'brass' => 'rgb(181,166,66)',
	'bronze' => 'rgb(205,127,50)',
	'brown' => 'rgb(150,75,0)',
	'buff' => 'rgb(240,220,130)',
	'burnt-sienna' => 'rgb(233,116,81)',
	'burnt-umber' => 'rgb(138,51,36)',
	'cardinal' => 'rgb(196,30,58)',
	'carmine' => 'rgb(150,0,24)',
	'cerulean' => 'rgb(0,123,167)',
	'charcoal' => 'rgb(54,69,79)',
	'chartreuse' => 'rgb(127,255,0)',
	'chestnut' => 'rgb(205,92,92)',
	'chocolate' => 'rgb(210,105,30)',
	'cinnamon' => 'rgb(123,63,0)',
	'clear' => 'rgb(128,128,128)',
	'cobalt' => 'rgb(0,71,171)',
	'copper' => 'rgb(184,115,51)',
	'cream' => 'rgb(255,253,208)',
	'crimson' => 'rgb(220,20,60)',
	'dark-blue' => 'rgb(0,0,139)',
	'dark-brown' => 'rgb(101,67,33)',
	'dark-chestnut' => 'rgb(152,105,96)',
	'dark-green' => 'rgb(1,50,32)',
	'dark-indigo' => 'rgb(49,0,98)',
	'dark-olive' => 'rgb(85,104,50)',
	'dark-peach' => 'rgb(255,218,185)',
	'dark-pink' => 'rgb(231,84,128)',
	'dark-scarlet' => 'rgb(86,3,25)',
	'dark-tan' => 'rgb(145,129,81)',
	'dark-violet' => 'rgb(66,49,137)',
	'ecru' => 'rgb(194,178,128)',
	'emerald' => 'rgb(80,200,120)',
	'fern-green' => 'rgb(79,121,66)',
	'flax' => 'rgb(238,220,130)',
	'fuchsia' => 'rgb(244,0,161)',
	'gold' => 'rgb(212,175,55)',
	'golden-yellow' => 'rgb(255,223,0)',
	'goldenrod' => 'rgb(218,165,32)',
	'gray' => 'rgb(128,128,128)',
	'green' => 'rgb(0,255,0)',
	'green-yellow' => 'rgb(173,255,47)',
	'heliotrope' => 'rgb(223,115,255)',
	'indigo' => 'rgb(75,0,130)',
	'ivory' => 'rgb(255,255,240)',
	'jade' => 'rgb(0,168,107)',
	'lavender' => 'rgb(230,230,250)',
	'lavender-blush' => 'rgb(255,240,245)',
	'lemon' => 'rgb(253,233,16)',
	'light-blue' => 'rgb(173,216,230)',
	'light-brown' => 'rgb(205,133,63)',
	'lilac' => 'rgb(200,162,200)',
	'lime' => 'rgb(204,255,0)',
	'mahogany' => 'rgb(192,64,0)',
	'maroon' => 'rgb(128,0,0)',
	'mauve' => 'rgb(153,51,102)',
	'mauve-taupe' => 'rgb(145,95,109)',
	'midnight-blue' => 'rgb(0,51,102)',
	'mint-green' => 'rgb(152,255,152)',
	'moss-green' => 'rgb(173,223,173)',
	'ochre' => 'rgb(204,119,34)',
	'olive' => 'rgb(128,128,0)',
	'orange' => 'rgb(255,165,0)',
	'pale-blue' => 'rgb(175,238,238)',
	'pale-brown' => 'rgb(152,118,84)',
	'pale-chestnut' => 'rgb(221,173,175)',
	'pale-pink' => 'rgb(250,218,221)',
	'peach' => 'rgb(255,229,180)',
	'pearl' => 'rgb(240,234,214)',
	'periwinkle' => 'rgb(204,204,255)',
	'pine-green' => 'rgb(1,121,111)',
	'pink' => 'rgb(255,192,203)',
	'plum' => 'rgb(102,0,102)',
	'puce' => 'rgb(204,136,153)',
	'pumpkin' => 'rgb(255,117,24)',
	'purple' => 'rgb(102,0,153)',
	'raw-umber' => 'rgb(115,74,18)',
	'red' => 'rgb(255,0,0)',
	'russet' => 'rgb(117,90,87)',
	'rust' => 'rgb(183,65,14)',
	'saffron' => 'rgb(244,196,48)',
	'scarlet' => 'rgb(255,36,0)',
	'sea-green' => 'rgb(46,139,87)',
	'sepia' => 'rgb(112,66,20)',
	'silver' => 'rgb(192,192,192)',
	'sky-blue' => 'rgb(135,206,235)',
	'slate-gray' => 'rgb(112,128,144)',
	'spring-green' => 'rgb(0,255,127)',
	'tan' => 'rgb(210,180,140)',
	'dark-taupe' => 'rgb(72,60,50)',
	'taupe-gray' => 'rgb(139,133,137)',
	'taupe' => 'rgb(103,76,71)',
	'purple-taupe' => 'rgb(80,64,77)',
	'pale-taupe' => 'rgb(188,152,126)',
	'rose-taupe' => 'rgb(144,93,93)',
	'sandy-taupe' => 'rgb(150,113,23)',
	'teal' => 'rgb(0,128,128)',
	'turquoise' => 'rgb(48,213,200)',
	'vermilion' => 'rgb(227,66,52)',
	'violet' => 'rgb(139,0,255)',
	'white' => 'rgb(255,255,255)',
	'yellow' => 'rgb(255,255,0)',
	'yellow-green' => 'rgb(154,205,50)',
);

class Color {
	/**
	 * Color
	 */
	private $name;
	public function __construct($name) {
		$this->name = $name;
		global $DFCOLORS;
		if (preg_match('/^([0-9a-fA-F]{3}){1,2}$/', $this->name)) { 
			// Prepend a # to hexadecimal colors
			$this->name = '#' . $this->name;
		}
		if (preg_match('/^[0-7]:[0-1]$/', $this->name)) {
			// Convert DF colors into hexadecimal
			$this->name = $DFCOLORS[$this->name];
		}
		// Search for color in $DFCOLORS
		foreach ($DFCOLORS as $color => $value) {
			if ($color == preg_replace('/[_\s]/', '-', $name)) {
				$this->name = $value;
				break;
			}
		}
	}
	public function __toString() {
		return $this->name;
	}
}

